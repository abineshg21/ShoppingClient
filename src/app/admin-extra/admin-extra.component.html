
<main class="body-content">

    <!-- Navigation Bar -->
    <nav class="navbar ms-navbar" style=" margin: unset;">
      <div class="ms-aside-toggler ms-toggler pl-0" data-target="#ms-side-nav" data-toggle="slideLeft"> <span
          class="ms-toggler-bar bg-primary"></span>
        <span class="ms-toggler-bar bg-primary"></span>
        <span class="ms-toggler-bar bg-primary"></span>
      </div>
      <ul class="ms-nav-list ms-inline mb-0" id="ms-nav-options">
        <li class="ms-nav-item ms-search-form pb-0 py-0">
          <form class="ms-form" method="post">
            <div class="ms-form-group my-0 mb-0 has-icon fs-14">
              <span>{{LoginUser}}</span>
            </div>
          </form>
        </li>
        </ul>
    </nav>
  
    <div class="row page-titles ms-panel" style="margin-right: unset;  margin-left: unset;">
  
      <div class="col-md-5 align-self-center">
        <h4 class="text-themecolor">Menu Extra</h4>
      </div>
      <div class="col-md-7 align-self-center text-right">
        <div class="d-flex justify-content-end align-items-center" *ngIf="Drop">
          <button type="button" class="btn btn-info d-none d-lg-block m-l-15" style="margin-bottom: 10px;"
            (click)="Show()"><i class="fa fa-plus-circle"></i> Add Extra</button>
        </div>
      </div>
      <div *ngIf="!Drop " class="col-md-12" id="Menus" style="    margin-top: 20px;">
        <div class="col-md-12" id="Menus">
          <div class="">
            <button id="Menu" tabindex="92" class="accordion" style="display: block;">Extra Details</button>
          </div>
        </div>
        <div class="col-md-12" style="padding-top: 30px;padding-bottom: 30px;">
          <div class="col-md-3">
            <div class="form-group">
              <label class="control-label">Restaurant</label>
              <select class="form-control" [(ngModel)]="restaurantId" [disabled]="isDisabled">
                <option value="0">Select</option>
                <option *ngFor="let rst of Resturants" value={{rst.restaurantId}}>{{rst.name}}</option>
              </select>
            </div>
          </div>
  
          <!--/span-->
          <div class="col-md-3">
            <div class="form-group">
              <label class="control-label">Extra Name</label>
              <input type="text" class="form-control"  [(ngModel)]="ExtraName">
            </div>
          </div>
          <div class="col-md-3">
            <div class="form-group">
              <label class="control-label">Amount</label>
              <input type="number" class="form-control"  [(ngModel)]="ExtraAmount">
            </div>
          </div>
  
        </div>
  
        <div class="col-md-12" style="padding-bottom: 25px;">
  
          <div class="col-md-6">
            <div class="col-md-3" style="padding-top: 39px;"  [(ngModel)]="Status" (change)="toggleEditable($event)"
              [hidden]="isShownActive">
              <input type="checkbox" id="Activestatus"> Set As In Active
            </div>
  
  
            <div class="col-md-3" style="padding-top: 22px;">
              <button class="btn " style="background: #9ed3c2; color: white;border-radius: 4px;"
                (click)="InsertMenuExtra()" [hidden]="isShownSaveBtn">SAVE</button>
                <button class="btn " style="background: #9ed3c2; color: white;border-radius: 4px;"
                (click)="UpdateMenuExtra()" [hidden]="isShownUpdateBtn">Update</button>
            </div>
            <div class="col-md-3" style="padding-top: 22px;">
              <button class="btn " style="background: white; color: black;;border-radius: 4px;border-color: #9ed3c2;"
                (click)="Clear()">CLEAR</button>
            </div>
          </div>
        </div>
        <div class="col-md-12" style="padding-bottom: 25px; text-align: center;">
          <span [hidden]="isShownError" style="color: red;">{{ErrorMsg}}</span>
          <span [hidden]="isShownSuccess" style="color: #9ed3c2;">{{SuccessMsg}}</span>
        </div>
      </div>
      <!--/span-->
    </div>
  
    <div class="ms-content-wrapper">
      <div class="row">
  
        <div class="col-md-12">
  
          <div class="ms-panel">
            <div class="ms-panel-body">
              <div class="table-responsive">
                <div id="data-table-5_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
                  <div class="row">
                    <div class="col-sm-12 col-md-6">
                      <div class="dataTables_length" id="data-table-5_length">
                        <label style="padding-right: 25px;">Search</label>
                        <input type="text" placeholder="Search"
                          style="border: unset;background:  #ececec;height: 37px;width: 72%;"  [(ngModel)]="searchText" (keyup)="applyFilter($event.target.value)" > <i
                          class="fa fa-search fa-2x" style="color:red;position: absolute;    left: 79%; top: 3px;"></i>
                      </div>
                    </div>
                    <div class="col-sm-12 col-md-6">
                      <div id="data-table-5_filter" class="dataTables_filter" style="text-align: left;padding-top: 5px;">
                      
                        <img src="../../assets/Images/icon/ExportImg.jpeg" alt="logo" (click)="exportexcel()" style="cursor: pointer;">
                       
                        <label style="padding-left: 50px;">Show</label>
                        <label class="switch" style="margin-left: 10px;">
                          <input type="checkbox" id="ShowAcive" checked (change)="ActiveCheckboxChange($event)">
                          <span class="slider round"></span>
                        </label>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-sm-12 mat-elevation-z8" style="box-shadow: unset;padding-top: 30px ;" #TABLE>
                      <table mat-table [dataSource]="dataSource" mat-table style="width: 100%;" matSortmat-table [dataSource]="dataSource" mat-table style="width: 100%;" matSort>
                        <ng-container matColumnDef="sno">
                          <th mat-header-cell *matHeaderCellDef style="color: white !important;background-color: #9ed3c2">
                            S.NO </th>
                          <td mat-cell *matCellDef="let item; let j = index">
                            {{(j +1)  + (myPaginator.pageIndex * myPaginator.pageSize) }} </td>
                        </ng-container>
                        <ng-container matColumnDef="restaurantName" >
                          <th mat-header-cell *matHeaderCellDef  mat-sort-header style="color: white !important;background-color: #9ed3c2"> RESTAURANT NAME </th>
                          <td mat-cell *matCellDef="let element" (click)="EditMenuExtra(element)" style="cursor: pointer;"> {{element.restaurantName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="extraName" >
                          <th mat-header-cell *matHeaderCellDef  mat-sort-header style="color: white !important;background-color: #9ed3c2"> NAME </th>
                          <td mat-cell *matCellDef="let element" (click)="EditMenuExtra(element)" style="cursor: pointer;"> {{element.extraName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="extraAmount" >
                            <th mat-header-cell *matHeaderCellDef  mat-sort-header style="color: white !important;background-color: #9ed3c2"> EXTRA AMOUNT </th>
                            <td mat-cell *matCellDef="let element" (click)="EditMenuExtra(element)" style="cursor: pointer;"> {{element.extraAmount}} </td>
                          </ng-container>
                        <ng-container matColumnDef="status" >
                          <th mat-header-cell *matHeaderCellDef  mat-sort-header style="color: white !important;background-color: #9ed3c2"> STATUS </th>
                          <td mat-cell *matCellDef="let element" (click)="UpdateStatus1(Addon,element)" > 
                            <label class="switch" style="margin-left: 10px;"  *ngIf="element.status == 'Active' ? true : false">
                              <input type="checkbox" checked>
                              <span class="slider round"></span>
                            </label>
                            <label class="switch" style="margin-left: 10px;" *ngIf="element.status == 'InActive' ? true : false">
                              <input type="checkbox">
                              <span class="slider round"></span>
                            </label>
                           </td>
                        </ng-container>
                        
                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                      </table>
                      <mat-paginator #myPaginator [pageSizeOptions]="[5, 10,15, 20,30,40]" showFirstLastButtons></mat-paginator>
  
  
                    </div>
                  </div>
                  
                </div>
              </div>
            </div>
          </div>
  
        </div>
  
      </div>
    </div>
    <ng-template #Addon let-modal id="" style="width:90%">
  
      <div class="modal-header" style="border: none;padding-bottom: unset;background-color: #9ed3c2;border-radius: 20px;">
        
    
      </div>
    
      <div class="modal-body" style="padding:25px;padding-top: unset;">
    <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="text-align: center;"  style="padding-bottom: 10px;" >
      <fieldset>
        <div style="padding-top: 10px;">
            <h3 style="text-align: center;">Are you sure you want to Change The Status?</h3>
        </div>
          <!-- Button -->
          <div class="row" style="padding-top:10px ;">
             
             
                  <div class="col-md-6" style="text-align: center;">
                      <button  class="btn " style="width: 50%; background-color:#9ed3c2;color:white" (click)="UpdateStatus()" >OK</button>
                  </div>
                  <div class="col-md-6" style="text-align: center;">
                      <button  class="btn " style="width: 50%; background-color:#9ed3c2;color:white" (click)="modal.dismiss('Cross click')" >Cancel</button>
                  </div>
              </div>
      
          
  
      </fieldset>
    
      </div>
      </div>
  
    
     
    
    </ng-template>
  </main>