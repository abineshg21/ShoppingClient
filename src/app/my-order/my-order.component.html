

<title>My Order</title>
<div class="container py-4">
  <div class="profile-banner">
    <div class="profile-info">
        <img src="../../assets/Images/icon/avatar.jpg" *ngIf='!Profilr?.profileImage'>
        <img [src]="Profilr?.profileImage" *ngIf='Profilr?.profileImage'>
        <div>
            <h5>{{ Name }} {{ LastName }}</h5>
            <p>{{ Mobileno }} | {{ EmailId }}</p>
        </div>
    </div>
    <button class="btn btn-custom" (click)="open(CustomerDetails)" *ngIf='!GustStrn'>Edit Profile</button>
</div>
  
<ul class="nav nav-tabs">
  <li class="nav-item">
      <a class="nav-link" [ngClass]="{active: activeTab === 'myOrders'}" (click)="activeTab = 'myOrders'">My Orders</a>
  </li>
  <li class="nav-item">
      <a class="nav-link" [ngClass]="{active: activeTab === 'orderDetails'}" (click)="activeTab = 'orderDetails'">Order Details</a>
  </li>
</ul>

<div class="tab-content">
  <div *ngIf="activeTab === 'myOrders'">
      <h4>My Orders</h4>
      <table class="table table-striped mt-3">
          <thead class="table-dark">
              <tr>
                  <th>Order Number</th>
                  <th>Order Date & Time</th>
                  <th>Item Count</th>
                  <th>Amount Paid</th>
                  <th>Order Status</th>
                  <th>Actions</th>
              </tr>
          </thead>
          <tbody>
              <tr *ngFor='let item of ReOrder'>
                  <td>{{ item.orderId }}</td>
                  <td>{{ item.orderDate }}</td>
                  <td>{{ item.itemName }} ({{ item.qty }})</td>
                  <td>$ {{ item.amountPaid }}</td>
                  <td>{{ item.type }}</td>
                  <td>
                      <button class="btn btn-custom btn-sm" (click)="Reorder(item.orderId)">Re-Order</button>
                  </td>
              </tr>
          </tbody>
      </table>
  </div>
  
  <div *ngIf="activeTab === 'orderDetails'">
    <h4>Order Details</h4>
    <table class="table table-striped mt-3">
    
      <thead class="table-dark">
        <tr>
          <th>ORDER NUMBER </th >
            <th >ORDER DATE & TIME</th>
            <th>ITEM COUNT  </th>
            <th>AMOUNT PAID </th>
            <th>ORDER STATUS   </th>
        </tr> 
      </thead>
      <tbody>
          <tr  *ngFor='let item of ReOrder' (click)="Reorder(item.orderId)">
            <td>{{ item.orderId }}</td>
            <td>{{ item.orderDate }}</td>
            <td>{{ item.itemName }} ({{ item.qty }})</td>
            <td>$ {{ item.amountPaid }}</td>
            <td>{{ item.type }}</td>
            
          </tr>
       
      </tbody>
  </table>
  </div>
  
</div>
</div>



 <ng-template #Payout let-modal >

    <div class="modal-header" style="border: none;padding-bottom: unset;">
  <h4 style="font-size: 18px;padding-left: 25px;font-family: Ubuntu-Bold !important;">Order Details </h4>
  
      <button type="button" class="close" aria-label="Close" style="outline: none;opacity: 1;padding-top: unset;" (click)="modal.dismiss('Cross click')">
  
        <span aria-hidden="true" style="font-size: 34px;">×</span>
  
      </button>
  
    </div>
  
    <div class="modal-body">
 
        <div class="">
            <h4 style="font-family: Ubuntu-Bold !important;padding-left: 25px;color: #555;">{{Res_Name}}</h4>
        </div>
  <div class="" style="padding-top: 5px;padding-left: 25px;padding-bottom: 58px;">
<div class="col-md-12">
    <div class="col-lg-6 col-xs-6 col-md-6 col-sm-6">
        <span style="font-size: 15px;color: #555;">Order Id </span>
    </div>
    <div class="col-lg-6 col-xs-6 col-md-6 col-sm-6">
        <span style="color: #555;">{{OrderId}}</span>
    </div>
</div>
<div class="col-md-12">
    <div class="col-lg-6 col-xs-6 col-md-6 col-sm-6">
       
        <span  style="font-size: 15px;color: #555;">Ordered Date & Time </span>
</div>
<div class="col-lg-6 col-xs-6 col-md-6 col-sm-6">
 
<span style="color: #555;font-size: 15px;">{{OrderDate}}</span>

</div>
</div>
    
    
  </div>
  <span></span>
    <div class="" style="border-top: 1px solid rgba(111,111,111,0.5);"></div>
  <div class="col-lg-12col-md-12">
    <div class="row" style="padding-left: 15px;padding-right: 14px;">
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:30px" *ngFor='let item of ItemPrice' >
            <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6" style="font-family:Ubuntu-Bold !important;">
                <h5  style="font-family:Ubuntu-Bold !important;">{{item.itemName}} </h5>
            </div>
            <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2" style="font-family:Ubuntu-Bold !important;">
                <h5  style="font-family:Ubuntu-Bold !important;">x{{item.qty}}</h5>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;font-family:Ubuntu-Bold !important;text-align: center;">
                <h5  style="font-family:Ubuntu-Bold !important;">$ {{ (item.qty) * (item.iTEMprice)}}</h5>
            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:10px">
            <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                <h5 style="font-family:Ubuntu-Bold !important;">Discount </h5>
            </div>
            <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2">
                <h5></h5>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;color: #EE562F;text-align: center;">
                <h5 style="font-family:Ubuntu-Bold !important;"> - $ {{CouponAmt | number:'.2'}}</h5>
            </div>
            <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1" style="padding-top:8px">

            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:10px;border-bottom: 1px dashed; padding-bottom: 10px;" >
            <div class="col-lg-8 col-md-8 col-xs-8 col-sm-8">
                <h5 style="font-family:Ubuntu-Bold !important;">Coupon </h5>
            </div>
           
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;text-align: center;">
                <h5 style="font-family:Ubuntu-Bold !important;">$ {{Coup | number:'.2'}}</h5>
            </div>
            <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1" style="padding-top:8px">

            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:10px;padding-bottom: 10px;border-bottom: 1px dashed;">
            <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                <h5 style="font-family:Ubuntu-Bold !important;">Sub Total </h5>
            </div>
            <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2">
                <h5></h5>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;color: #EE562F;text-align: center;">
                <h5 style="font-family:Ubuntu-Bold !important;">$ {{SubTotal | number:'.2'}}</h5>
            </div>
            <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1" style="padding-top:8px">

            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:10px;">
            <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                <h5 style="font-family:Ubuntu-Bold !important;">Delivery </h5>
            </div>
            <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2">
                <h5></h5>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;text-align: center;">
                <h5 style="font-family:Ubuntu-Bold !important;">$ {{DeliveryAmount | number:'.2'}}</h5>
            </div>
            <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1" style="padding-top:8px">

            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:10px;border-bottom:1px dashed">
            <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                <h5 style="font-family:Ubuntu-Bold !important;">Tax </h5>
            </div>
            <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2">
                <h5></h5>
            </div>
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;text-align: center;">
                <h5 style="font-family:Ubuntu-Bold !important;">$ {{TaxAmt | number:'.2'}}</h5>
            </div>
            <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1" style="padding-top:8px">

            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:15px;">
            
            <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12"  style=" padding: unset;">
                <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                    <h5 style="font-family:Ubuntu-Bold !important;">Order Total </h5>
                </div>
                <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2">
                    <h5></h5>
                </div>
                <div class="col-lg-3 col-md-4 col-xs-4 col-sm-4" style="padding-right: unset;text-align: center;">
                    <h5 style="color:#20c500 ;font-family:Ubuntu-Bold !important;">$ {{OrderTotal | number:'.2'}}</h5>
                </div>
               
            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:10px;padding-bottom: 20px;padding-left: unset;">
            <div class="col-lg-8 col-md-8 col-xs-8 col-sm-8">
                <h5 style="font-family:Ubuntu-Bold !important;color: #EE562F;padding-left: 20px;">Tip Added</h5>
       
            </div>
           
            <div class="col-lg-3 col-md-3 col-xs-3 col-sm-3" style="padding-right: unset;text-align: center;">
                <h5 style="color:#EE562F;font-family:Ubuntu-Bold !important;">$ {{TipsAmt | number:'.2'}}</h5>
            </div>
            <div class="col-lg-1 col-md-1 col-xs-1 col-sm-1" style="padding-top:8px">

            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style="padding-top:15px;padding-bottom:10px ;border-top: 1px solid rgba(111,111,111,0.5);border-bottom: 1px solid rgba(111,111,111,0.5)">
            
            <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" style=" padding: unset;" >
                <div class="col-lg-6 col-md-6 col-xs-6 col-sm-6">
                    <h5 style="font-family:Ubuntu-Bold !important;">Net Pay </h5>
                </div>
                <div class="col-lg-2 col-md-2 col-xs-2 col-sm-2">
                    <h5></h5>
                </div>
                <div class="col-lg-3 col-md-4 col-xs-4 col-sm-4" style="padding-right: unset;text-align: center;">
                    <h5 style="color:#20c500 ;font-family:Ubuntu-Bold !important;">$ {{NetPay | number:'.2'}}</h5>
                </div>
              
            </div>
        </div>
        <div class="col-lg-12 col-xs-12 col-md-12 col-sm-12" *ngIf='delFirstName == "" || delFirstName == null ? false :true' style="padding-top:15px;padding-bottom:10px ;border-bottom: 1px solid rgba(111,111,111,0.5)">
            
          <h5 style="font-size: 21px !important;font-family:Ubuntu-Bold !important ;">Delivery Address</h5>
         
          <h5 style="font-size: 18px;padding-top: 10px;font-family:Ubuntu-Medium !important ;">{{delFirstName}}</h5>
          
          <h5  style="font-size: 18px;font-family:Ubuntu-Medium !important ;">{{delAddress1}}, {{delAddrees2}}</h5>
         
          <h5 style="font-size: 18px;font-family:Ubuntu-Medium !important ;">{{delCity}} {{delstate}} {{delZip}}</h5>
           
            <h5 style="font-size: 21px !important;font-family:Ubuntu-Bold !important ;padding-top: 20px;">Mobile Number</h5>
           
            <h5  style="font-size: 18px;font-family:Ubuntu-Medium !important ;padding-top: 10px;">{{delMobile}}</h5>

        </div>

        
        <div class="col-lg-12 col-xs-12 col-sm-12 col-md-12 " style="text-align: center;padding-top: 20px;padding-bottom: 50px;">
            <button class="btn" style="border-radius: 25px; background-color: #EE562F;color: white;width: 52%;font-size: 20PX;">RE-ORDER</button>
        </div>
    </div>
  </div>
   

    </div>
  
   
  
  </ng-template>


  <ng-template #CustomerDetails let-modal >
    
    <div class="modal-header" style="border: none;padding: 35px;padding-bottom: unset;">
  
      <h3 class="modal-title" id="modal-basic-title" style="font-family: Ubuntu-Bold !important;">Profile Details</h3>
  
      <button type="button" class="close" aria-label="Close" style="outline: none;opacity: 1;font-size: 34px;padding-top: unset;" (click)="modal.dismiss('Cross click')">
  
        <span aria-hidden="true">×</span>
  
      </button>
  
    </div>
  
    <div class="modal-body" style="padding:35px;">
 <div class="col-lg-12 col-xs-12 col-sm-12 col-xs-12">
    <span [hidden]="isShownErrorAddress" style="color: red;" >{{AddressErrorMsg}}</span>
    <span [hidden]="isShownSuccessAddress" style="color: green;" >{{AddressSuccessMsg}}</span>
 </div>
  
    <div class="col-lg-12 col-xs-12 col-sm-12 col-xs-12">
        <div class="form-group" style="padding-top:10px ;">
            <input type="text" placeholder="First Name" [(ngModel)]="Name" class="form-control line" style="font-family: Ubuntu-Medium !important;" />
        </div>
        <div class="form-group" style="padding-top:10px ;">
           
            <input type="text" placeholder="Last Name" [(ngModel)]="LastName" class="form-control line" style="font-family: Ubuntu-Medium !important;"  />
        </div>
        <div class="form-group" style="padding-top:10px ;">
           
            <input type="text" placeholder="Email ID " [(ngModel)]="EmailId" class="form-control line"  style="font-family: Ubuntu-Medium !important;" />
        </div>
        <div class="form-group" style="padding-top:10px ;">
           
            <input type="text" placeholder="Mobile Number " [(ngModel)]="Mobileno"  maxlength="13" (ngModelChange)="onprofileMobileChange($event)"  class="form-control line" style="font-family: Ubuntu-Medium !important;" />
        </div>
        <div class="form-group" style="padding-top:10px ;">
           
            <input type="file" #file   (change)="uploadFile(file.files)" class="form-control line" style="font-family: Ubuntu-Medium !important;" />
        </div>
        
        <div class="form-group" style=" margin-top: 10px; margin-bottom: 30px; border-radius: 34px;border: 1px solid ;background-color: #EE562F;text-align: center;">
           
            <h3 class="" (click)="UpdateaddressClick()" style="font-family: Ubuntu-Medium !important;text-align: center;margin-top: 10px;color: white;">SUBMIT</h3>
        </div>

      
    </div>
  
    </div>
  
   
  
  </ng-template>